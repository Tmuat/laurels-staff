{% load static i18n %}
<div class="modal-content green-gradient">
    <div class="modal-body">
        <div class="text-center mt-2 mb-3">
            <span><img src="{% static 'custom/images/logo.png' %}" alt="laurels" height="80"></span>
        </div>
        <div class="text-center">
            <h4 class="text-white">OTP Setup</h4>
        </div>
        <p class="text-white text-center">{% blocktrans trimmed %}You must use a token generator, please use your
            smartphone to scan the QR code below. The reccommended generator is 'Google Authenticator'. 
            Then, enter the token generated by the app.{% endblocktrans %}</p>
        <div class="alert alert-light" role="alert">
            <p class="text-center">
                <img src="{% url 'accounts:qr' %}" alt="QR Code"/>
            </p>
        </div>
        <form method="post" action="{% url 'accounts:otp_setup' %}" class="text-center text-white js-add-otp-form">
            {% csrf_token %}
            {% if no_error %}
            <div id="div_id_token" class="form-group">
                <label for="id_token" class=" requiredField">
                    Token<span class="asteriskField">*</span>
                </label>
                <div class="">
                    <input type="number" name="token" min="0" max="999999" autofocus="autofocus" inputmode="numeric"
                        autocomplete="one-time-code" class="numberinput form-control" required="" id="id_token">
                </div>
            </div>
            {% else %}
            <div id="div_id_token" class="form-group">
                <label for="id_token" class=" requiredField">
                    Token<span class="asteriskField">*</span>
                </label>
                <div class="">
                    <input type="number" name="token" min="0" max="999999" autofocus="autofocus" inputmode="numeric"
                        autocomplete="one-time-code" class="numberinput form-control is-invalid" required=""
                        id="id_token">
                    <div id="id_token_feedback" class="invalid-feedback">
                        Invalid Token.
                    </div>
                </div>
            </div>
            {% endif %}
            <div class="mb-3 text-center">
                <button type="submit" class="btn btn-info">{% trans "Add Device" %}</button>
            </div>
        </form>
    </div>
</div>
<!-- /.modal-content -->